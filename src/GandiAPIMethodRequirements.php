<?php


namespace BespokeSupport\Gandi;


/**
 * Class GandiAPIMethodRequirements
 * @package BespokeSupport\Gandi
 */
class GandiAPIMethodRequirements
{
    /**
     * @var array
     */
    public static $noApiKeyRequired = array(
        'system.listMethods',
        'system.methodHelp',
        'system.methodSignature'
    );

    /**
     * @var array
     */
    public static $deprecatedPrefixes = array(
        'disk',
        'iface'
    );

    /**
     * @var array
     */
    public static $prefixes = array(
        'account',
        'catalog',
        'changeowner',
        'contact',
        'contact.reachability',
        'datacenter',
        'disk',
        'domain',
        'domain.autorenew',
        'domain.claims',
        'domain.contacts',
        'domain.dnssec',
        'domain.eoi',
        'domain.forward',
        'domain.gandimail',
        'domain.host',
        'domain.mailbox',
        'domain.mailbox.alias',
        'domain.mailbox.responder',
        'domain.misc',
        'domain.nameservers',
        'domain.owner',
        'domain.packmail',
        'domain.reseller',
        'domain.smd',
        'domain.status',
        'domain.tld',
        'domain.transferin',
        'domain.webredir',
        'domain.zone',
        'domain.zone.record',
        'domain.zone.version',
        'hosting.account',
        'hosting.catalog',
        'hosting.datacenter',
        'hosting.disk',
        'hosting.iface',
        'hosting.ip',
        'hosting.image',
        'hosting.metric',
        'hosting.product',
        'hosting.rating',
        'hosting.rproxy',
        'hosting.rproxy.probe',
        'hosting.rproxy.server',
        'hosting.rproxy.vhost',
        'hosting.snapshotprofile',
        'hosting.ssh',
        'hosting.vlan',
        'hosting.vm',
        'iface',
        'image',
        'notification',
        'notification.subscription',
        'operation',
        'paas',
        'paas.snapshot',
        'paas.snapshotprofile',
        'paas.type',
        'paas.vhost',
        'postit',
        'product',
        'version',
        'security.key',
        'snapshotprofile',
        'system',
        'vm',
    );

    /**
     * @var array
     */
    public static $methods = array(
        'account.info',
        'catalog.list',
        'changeowner.create',
        'contact.balance',
        'contact.can_associate',
        'contact.can_associate_domain',
        'contact.count',
        'contact.create',
        'contact.delete',
        'contact.info',
        'contact.list',
        'contact.reachability.resend',
        'contact.release',
        'contact.update',
        'datacenter.list',
        'disk.count',
        'disk.create',
        'disk.create_from',
        'disk.delete',
        'disk.info',
        'disk.list',
        'disk.list_kernels',
        'disk.list_options',
        'disk.rollback_from',
        'disk.update',
        'domain.autorenew.activate',
        'domain.autorenew.deactivate',
        'domain.available',
        'domain.claims.accept',
        'domain.claims.check',
        'domain.claims.info',
        'domain.contacts.set',
        'domain.count',
        'domain.create',
        'domain.dnssec.create',
        'domain.dnssec.delete',
        'domain.dnssec.list',
        'domain.eoi.count',
        'domain.eoi.create',
        'domain.eoi.delete',
        'domain.eoi.info',
        'domain.eoi.list',
        'domain.forward.count',
        'domain.forward.create',
        'domain.forward.delete',
        'domain.forward.list',
        'domain.forward.update',
        'domain.gandimail.activate',
        'domain.gandimail.deactivate',
        'domain.gandimail.info',
        'domain.host.count',
        'domain.host.create',
        'domain.host.delete',
        'domain.host.info',
        'domain.host.list',
        'domain.host.update',
        'domain.info',
        'domain.list',
        'domain.mailbox.alias.set',
        'domain.mailbox.count',
        'domain.mailbox.create',
        'domain.mailbox.delete',
        'domain.mailbox.info',
        'domain.mailbox.list',
        'domain.mailbox.purge',
        'domain.mailbox.responder.activate',
        'domain.mailbox.responder.deactivate',
        'domain.mailbox.update',
        'domain.misc.ukrights',
        'domain.nameservers.set',
        'domain.owner.set',
        'domain.packmail.autorenew',
        'domain.packmail.create',
        'domain.packmail.delete',
        'domain.packmail.info',
        'domain.packmail.renew',
        'domain.packmail.update',
        'domain.release',
        'domain.renew',
        'domain.reseller.set',
        'domain.restore',
        'domain.smd.count',
        'domain.smd.create',
        'domain.smd.delete',
        'domain.smd.extract',
        'domain.smd.info',
        'domain.smd.list',
        'domain.status.lock',
        'domain.status.unlock',
        'domain.tld.list',
        'domain.tld.region',
        'domain.transferin.available',
        'domain.transferin.proceed',
        'domain.webredir.count',
        'domain.webredir.create',
        'domain.webredir.delete',
        'domain.webredir.list',
        'domain.webredir.update',
        'domain.zone.clone',
        'domain.zone.count',
        'domain.zone.create',
        'domain.zone.delete',
        'domain.zone.info',
        'domain.zone.list',
        'domain.zone.record.add',
        'domain.zone.record.count',
        'domain.zone.record.delete',
        'domain.zone.record.list',
        'domain.zone.record.set',
        'domain.zone.record.update',
        'domain.zone.set',
        'domain.zone.update',
        'domain.zone.version.count',
        'domain.zone.version.delete',
        'domain.zone.version.list',
        'domain.zone.version.new',
        'domain.zone.version.set',
        'hosting.account.info',
        'hosting.catalog.list',
        'hosting.catalog.price',
        'hosting.datacenter.list',
        'hosting.disk.count',
        'hosting.disk.create',
        'hosting.disk.create_from',
        'hosting.disk.delete',
        'hosting.disk.info',
        'hosting.disk.list',
        'hosting.disk.list_kernels',
        'hosting.disk.list_options',
        'hosting.disk.rollback_from',
        'hosting.disk.update',
        'hosting.iface.count',
        'hosting.iface.create',
        'hosting.iface.delete',
        'hosting.iface.info',
        'hosting.iface.list',
        'hosting.iface.update',
        'hosting.image.info',
        'hosting.image.list',
        'hosting.ip.count',
        'hosting.ip.info',
        'hosting.ip.list',
        'hosting.ip.update',
        'hosting.metric.available',
        'hosting.metric.query',
        'hosting.product.create',
        'hosting.product.delete',
        'hosting.product.renew',
        'hosting.product.update',
        'hosting.rating.list',
        'hosting.rproxy.count',
        'hosting.rproxy.create',
        'hosting.rproxy.delete',
        'hosting.rproxy.info',
        'hosting.rproxy.list',
        'hosting.rproxy.probe.check_server',
        'hosting.rproxy.probe.disable',
        'hosting.rproxy.probe.enable',
        'hosting.rproxy.probe.test',
        'hosting.rproxy.probe.update',
        'hosting.rproxy.server.count',
        'hosting.rproxy.server.create',
        'hosting.rproxy.server.delete',
        'hosting.rproxy.server.disable',
        'hosting.rproxy.server.enable',
        'hosting.rproxy.server.list',
        'hosting.rproxy.update',
        'hosting.rproxy.vhost.alter_zone',
        'hosting.rproxy.vhost.count',
        'hosting.rproxy.vhost.create',
        'hosting.rproxy.vhost.delete',
        'hosting.rproxy.vhost.get_dns_entries',
        'hosting.rproxy.vhost.info',
        'hosting.rproxy.vhost.list',
        'hosting.snapshotprofile.count',
        'hosting.snapshotprofile.list',
        'hosting.ssh.count',
        'hosting.ssh.create',
        'hosting.ssh.delete',
        'hosting.ssh.info',
        'hosting.ssh.list',
        'hosting.vlan.count',
        'hosting.vlan.create',
        'hosting.vlan.delete',
        'hosting.vlan.info',
        'hosting.vlan.list',
        'hosting.vlan.update',
        'hosting.vm.count',
        'hosting.vm.create',
        'hosting.vm.create_from',
        'hosting.vm.delete',
        'hosting.vm.disk_attach',
        'hosting.vm.disk_detach',
        'hosting.vm.disk_rollback',
        'hosting.vm.iface_attach',
        'hosting.vm.iface_detach',
        'hosting.vm.info',
        'hosting.vm.list',
        'hosting.vm.reboot',
        'hosting.vm.start',
        'hosting.vm.stop',
        'hosting.vm.update',
        'iface.count',
        'iface.create',
        'iface.delete',
        'iface.info',
        'iface.list',
        'iface.update',
        'image.info',
        'image.list',
        'notification.count',
        'notification.list',
        'notification.subscription.count',
        'notification.subscription.create',
        'notification.subscription.delete',
        'notification.subscription.list',
        'notification.test',
        'operation.cancel',
        'operation.count',
        'operation.info',
        'operation.list',
        'operation.relaunch',
        'paas.count',
        'paas.create',
        'paas.delete',
        'paas.info',
        'paas.list',
        'paas.renew',
        'paas.restart',
        'paas.snapshot.count',
        'paas.snapshot.info',
        'paas.snapshot.list',
        'paas.snapshotprofile.count',
        'paas.snapshotprofile.list',
        'paas.type.count',
        'paas.type.list',
        'paas.update',
        'paas.vhost.count',
        'paas.vhost.create',
        'paas.vhost.delete',
        'paas.vhost.get_dns_entries',
        'paas.vhost.info',
        'paas.vhost.list',
        'postit.count',
        'postit.count_bo',
        'postit.create',
        'postit.delete',
        'postit.info',
        'postit.list',
        'postit.list_bo',
        'postit.update',
        'product.create',
        'product.delete',
        'product.renew',
        'product.update',
        'security.key.renew',
        'snapshotprofile.count',
        'snapshotprofile.list',
        'system.listMethods',
        'system.methodHelp',
        'system.methodSignature',
        'version.info',
        'vm.count',
        'vm.create',
        'vm.create_from',
        'vm.delete',
        'vm.disk_attach',
        'vm.disk_detach',
        'vm.disk_rollback',
        'vm.iface_attach',
        'vm.iface_detach',
        'vm.info',
        'vm.list',
        'vm.reboot',
        'vm.start',
        'vm.stop',
        'vm.update'
    );

    /**
     * @param $method
     * @return bool
     */
    public static function isApiKeyRequired($method)
    {
        return !(in_array($method, self::$noApiKeyRequired));
    }

    /**
     * @param $prefix
     * @return bool
     */
    public static function prefixAvailable($prefix)
    {
        return (in_array($prefix, self::$prefixes));
    }
}